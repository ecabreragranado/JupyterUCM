{"type":"cell","id":"1ed226","pos":2,"input":"\n\n\nBefore deducting the field and irradiance expressions for this case, let's try to find out what we could expect in this case. If we have a certain number of slits over which a plane wave impinges, each of them will produce an electric field at a point $ P $ far enough from the crack (that is, we work in the Fraunhofer regime), which we know what is its expression.\n\nAs instead of a single slit, this time we have $ N $ of them, the fields produced by each of the slits will be added (or in other words, they will interfere) in $ P $, with a phase difference between them given by the difference in the road they have to travel to reach $ P $. Therefore, we will obtain irradiance maxima when all these waves emitted by each of the slits arrive in phase with each other, or what is the same, when the path difference between two of them is an integer multiple of $ \\lambda $.\n\n$$ \\Delta = m \\lambda $$\n\nIf we look at the figure, we see that this difference of path $ \\Delta $ is equal to $ d sin (\\theta) $ where $ d $ we have already mentioned that it is the step of the network, and $ \\theta $ is the angle subtended for $ P $ with the system axis seen from the grating.\n\nWe see, therefore, that irradiance maxima must be found in those directions for which it is met,\n\n$$ d sin(\\theta) = m \\lambda $$\n\nThis equation is called ** Grating equation **. Depending on the value of $ m $ we will have different irradiance maximums. These maximums are called * diffraction orders of the grating *.\n\nThese irradiance maxima are obtained at very localized points. This is due to the fact that by increasing the number of slits, only the constructive interference condition is met in very specific directions. The greater the number $ N $ of slits, the narrower the irradiance maximums (this characteristic can be checked in the program presented below).\n\nThe previous analysis has been based solely on the interference between the waves emitted by each slit. We will now make a more complete deduction of the expressions that govern the field and the irradiance depending on the position of the point $ P $ of observation.","cell_type":"markdown"}
{"type":"cell","id":"3a3053","pos":1,"input":"In the study of diffraction effects, we have previously considered what happens when an electromagnetic wave hits an aperture of a certain size. Now we are going to deduce the irradiance that we would observe if instead of a single opening, we had a very large number $ N $ of them. In the following we will consider therefore that we have a plane monochromatic beam, of wavelength $ \\ lambda $, that incides perpendicularly to a set of slits with a certain size $ b $ and a separation between them $ d $. We will call this last parameter * step of the grating *.\n\n<div align = \"center\"> <img src = \"files / RedDif_general.png\" alt = \"Grating\" width = 400 height = 350> </div>","cell_type":"markdown"}
{"type":"cell","id":"5ae9eb","pos":4,"input":"The field produced by a single slit in a point $ P $ that subtends an angle $ \\theta $ with the axis of the system is,\n\n$$ E (\\theta) = \\left (\\frac {E_0} {N} \\right) \\frac {sin (\\beta)} {\\beta} e ^ {i (k r - \\omega t)} $$\n\nwhere $ \\beta = \\pi b sin (\\theta) / \\lambda $, and $ r $ is the distance between the selected slit and the fist $ P $ of observation. If we now see the field produced by another contiguous gap separated by a distance $ d $, the only difference will come right at this distance. Now, the field will have to travel a distance $ r + \\Delta $ instead of $ r $ only. Here, $ \\Delta = d sin (\\theta) $. That is to say,\n\n$$E_{tot} = \\frac{E_0}{N} \\frac{sen(\\beta)}{\\beta}\\left[e^{i (k r - \\omega t)} +  e^{i (k (r + \\Delta) - \\omega t)} +  e^{i (k (r + 2 \\Delta) - \\omega t)}+ \\ldots +  e^{i (k (r + (N-1) \\Delta) - \\omega t)} \\;\\;\\right]$$\n\nThe total field at point $ P $ will be given by the sum of all the individual fields,\n\n$$ E_ {tot} = \\sum_i E_i (\\theta) $$\n\nOr what is equivalent,\n\n$$E_{tot} = \\frac{E_0}{N} \\frac{sen(\\beta)}{\\beta}\\left[e^{i (k r - \\omega t)} +  e^{i (k (r + \\Delta) - \\omega t)} +  e^{i (k (r + 2 \\Delta) - \\omega t)}+ \\ldots +  e^{i (k (r + (N-1) \\Delta) - \\omega t)} \\;\\;\\right]$$\n\nNow all we need is to make that sum, which can be put as,\n\n$$ E_ {tot} = \\frac {E_0} {N} \\frac {sin(\\beta)} {\\beta} e^{i (kr - \\omega t)} \\left [1 + e ^ {ik \\Delta} + e ^ {ik 2 \\Delta} + \\ldots + e^{ik (N-1) \\Delta} \\; \\; \\right] $$\n\nTo make the sum shown in brackets, we can see that it is a geometric progression of the ratio $ e ^ {ik \\Delta} $, and therefore, we can put it as,\n\n$$ E_ {tot} = \\frac {E_0} {N} \\frac {sin (\\beta)} {\\beta} e ^ {i (kr - \\omega t)} \\left [\\frac {e ^ {ik N \\Delta} -1} {e ^ {ik \\Delta} -1} \\right] $$\n\nor better,\n\n$$ E_ {tot} = \\frac {E_0} {N} \\frac {sin (\\beta)} {\\beta} e ^ {i (kr - \\omega t + k \\Delta (N +1) / 2) } \\; \\; \\left [\\frac {sin (N k \\Delta / 2)} {sin (k \\Delta / 2} \\; \\; \\right] $$\n\nFinally, the total irradiance at the point $ P $, characterized by the value of the angle $ \\theta $ will be proportional to the square module of the field\n\n$$ I (\\theta) = \\frac {I_0} {N ^ 2} \\left [\\frac {sen (\\beta)} {\\beta} \\; \\; \\right] ^ 2 \\left [\\frac {sin (N \\alpha)} {sin (\\alpha)} \\; \\; \\right] ^ 2 $$\n\nwhere $ \\alpha = k \\Delta / 2 = \\pi d sin (\\theta) / \\lambda \\; \\; \\; \\; $ and $ \\beta = \\pi b sin (\\theta) / \\lambda \\; \\; \\; $. That is, the parameter $ \\alpha $ takes into account the gap between slits, while $ \\beta takes into account the size of a slit. The first term therefore includes the effects of the diffraction of a single slit, while the second term includes the effects of the interference between the waves emitted by all the slits.\n\nThis expression gives us very pronounced maxima when $ \\alpha = m \\pi $, that is, when $ \\pi d sin (\\theta) / \\lambda = m \\pi $. Rewriting this equation, we come back to the network equation, previously deduced,\n\n$$ d sin (\\theta) = m \\lambda $$\n\nBetween each of these maxima, we find $ (N-1) \\; \\; $ values ​​of $ \\alpha $ that override the denominator of the second term, that is, when $ \\alpha = m \\pi / N \\; \\; $ with $ m = 1 \\ldots N -1 \\; \\; $. These values ​​will give minimum irradiance. From them we can extract the width of the main maximums,\n\n$$ \\Delta \\alpha = \\frac {2 \\pi} {N} $$\n\nthat is to say,\n\n$$ \\Delta (sin (\\theta) = \\frac {2 \\lambda} {N d} \\Rightarrow \\Delta \\theta = \\frac {2 \\lambda} {N d cos (\\theta)} \\simeq \\frac { 2 \\lambda} {N d} $$\n\nwhere in the last step the approximation $ cos (\\theta) \\simeq 1 $ has been made. We see that the width of the maxima depends on the number of slits illuminated, the passage of the network and the wavelength of the radiation.","cell_type":"markdown"}
{"type":"cell","id":"6c18cf","pos":7,"input":"# Parameters\n#########\nb = 0.0003 # width of each slit in mm\nd = 1.0 / 600 # step of the network\nLambda = 555e-6 # wavelength in mm\n#######\n\nk = 2.0 * pi / Lambda\ntheta = linspace (0.01,50,1200) * pi / 180\nbeta = pi * b * sin (theta) / Lambda\nE0 = 100.0 # Amplitude of the incident field\nN = 10 # Number of illuminated slits\nE1 = (E0 / N) * (sin(beta) / beta)\nDelta = d * sin (theta)\nphases = zeros (((N-1), len (theta)), dtype = complex)\nfor i in range (len (phases)):\n     phases [i ,:] = 1j * k * i * Delta\nEtotal = sum (exp (phases), axis = 0) * E1\nItotal = abs (Etotal) ** 2\nfig = figure (figsize = (10,5))\n#subplot (121)\nplot (theta * 180 / pi, Itotal / Itotal.max ())\nxlabel ('Angle (degrees)')\nylabel ('Irradiance');\n#subplot (122)\n#plot (theta * 180 / pi, Itotal)\n#xlim ([38,45])\n#ylim ([0,1500])\ndel(phases)\ndel(Delta)\ndel(theta)","output":{"0":{"data":{"image/png":"2f5da1aee2f6c8d913da46671625a27805934196"},"output_type":"execute_result","exec_count":3}},"cell_type":"code","exec_count":3}
{"type":"cell","id":"890d12","pos":9,"input":"# Parameters\n#########\na = 0.0005 # width of each slit in mm\nd = 1.0 / 600 # step of the network\nE0 = 100.0 # Amplitude of the normalized field to 1\nN = 30 # Number of illuminated slits\n\nLambda1 = 555e-6 # wavelength 1 in mm\nDeltaLambda = 1e-6 # separation between the two wavelengths.\n######\n\nLambda2 = Lambda1 + DeltaLambda # wavelength 2 in mm\nk1 = 2.0 * pi / Lambda1\nk2 = 2.0 * pi / Lambda2\n\ntheta = linspace (0.01,50,3000) * pi / 180\nDelta = d * sin (theta)\nbeta1 = pi * a * sin (theta) / Lambda1\nbeta2 = pi * a * sin (theta) / Lambda2\nE1 = (E0 / N) * (sin (beta1) / beta1)\nE2 = (E0 / N) * (sin (beta2) / beta2)\n\nphases1 = zeros (((N-1), len (theta)), dtype = complex)\nphases2 = zeros (((N-1), len (theta)), dtype = complex)\nfor i in range (len (phases1)):\n    phases1 [i ,:] = 1j * k1 * i * Delta\n    phases2 [i ,:] = 1j * k2 * i * Delta\nEtotal1 = sum (exp (phases1), axis = 0) * E1\nEtotal2 = sum (exp (phases2), axis = 0) * E2\nItotal1 = abs (Etotal1) ** 2\nItotal2 = abs (Etotal2) ** 2\nfig = figure (figsize = (16,5))\nsubplot (121)\nplot (theta * 180 / pi, Itotal1, theta * 180 / pi, Itotal2)\nxlabel ('Angle (degrees)')\nylabel ('Irradiance');\nsubplot (122)\nplot (theta * 180 / pi, Itotal1, theta * 180 / pi, Itotal2)\nxlabel ('Angle (degrees)')\nylabel ('Irradiance')\nxlim ([40,44])\nylim ([0,2500])\n\ndel(phases1)\ndel(phases2)\ndel(theta)\ndel(Delta)","output":{"0":{"data":{"image/png":"b1464c6ffe6f29776257d44887f66db7336a6425"},"output_type":"execute_result","exec_count":4}},"cell_type":"code","exec_count":4}
{"type":"cell","id":"ab06da","pos":3,"input":"#### Field produced by a diffraction grating in the Fraunhofer regime","cell_type":"markdown"}
{"type":"cell","id":"cacadf","pos":6,"input":"The following program allows to visualize the irradiance obtained by a diffraction grating. You can modify the parameters of the width of the slit, number of slits, distance between them, wavelength ...\n\nIt can be seen how the amplitude of the different diffraction orders decays the greater the angle (that is, the greater the diffraction order). You can also check the effect of the number of slits illuminated in the width of each maximum, and that the angular position of the maxima depends on the wavelength (as can be seen in the grating equation).","cell_type":"markdown"}
{"type":"cell","id":"cd72fe","pos":0,"input":"## Difraction grating","cell_type":"markdown"}
{"type":"cell","id":"da9c90","pos":5,"input":"from numpy import *\nimport numpy as np\nfrom matplotlib.pyplot import *\nstyle.use('seaborn-poster')\n%matplotlib inline","cell_type":"code","exec_count":1}
{"type":"cell","id":"ded0d6","pos":8,"input":"The following program allows to see how the irradiance maxima for two separated wavelengths are separated by what is called in the program `DeltaLambda`. It can be seen how by changing the number of illuminated slits the maximums become narrower, allowing to distinguish spatially the two wavelengths.\n\nChange the separation between wavelengths and the number of slits to observe when the Rayleigh Criterion is met to solve two wavelengths.","cell_type":"markdown"}
{"type":"file","last_load":1516801607018}
{"type":"settings","kernel":"python2","backend_state":"running","metadata":{"language_info":{"codemirror_mode":{"name":"ipython","version":2},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython2","version":"2.7.14"}},"kernel_state":"idle","kernel_usage":{"cpu":0,"memory":79204352}}